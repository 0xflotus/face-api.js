{"version":3,"sources":["webpack:///./face-api.js-react/index.ts","webpack:///./src/styled/CenterContent.tsx","webpack:///./src/const.ts","webpack:///./src/styled/SideBySide.tsx","webpack:///./face-api.js-react/hoc/withAsyncRendering.tsx","webpack:///./src/styled/StyledLink.tsx","webpack:///./src/components/SideMenu.tsx","webpack:///./src/layouts/PageLayout.tsx","webpack:///./src/Root.tsx","webpack:///./face-api.js-react/components/DisplayResults.tsx","webpack:///./face-api.js-react/displayResults.tsx","webpack:///./face-api.js-react/shallowEquals.ts","webpack:///./face-api.js-react/facc/DetectFaceLandmarks.tsx","webpack:///./face-api.js-react/facc/DetectFaces.tsx","webpack:///./face-api.js-react/hoc/index.ts","webpack:///./face-api.js-react/MediaElement.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./face-api.js-react/facc/ComputeFaceDescriptors.tsx","webpack:///./face-api.js-react/facc/LoadModels.tsx","webpack:///./face-api.js-react/facc/index.ts","webpack:///./face-api.js-react/components/ImageWithOverlay.tsx","webpack:///./face-api.js-react/components/index.ts","webpack:///util (ignored)","webpack:///util (ignored)?56b2","webpack:///buffer (ignored)","webpack:///crypto (ignored)","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/getPageContext.js"],"names":["CenterContent","styled","div","props","alignItems","flexDirection","EXAMPLE_IMAGES","map","idx","label","url","withPrefix","ALIGNED_FACE_IMAGES_BY_CLASS","clazz","EXAMPLE_VIDEO","MODELS_URI","ALIGNED_FACE_IMAGES","reduce","flat","arr","concat","FACE_DETECTORS","isTinyFaceDetector","detectorName","isSsdMobilenetv1","isMtcnn","getFaceDetectionModelUri","modelUri","tinyFaceDetectorModelUrl","ssdMobilenetv1ModelUrl","mtcnnModelUrl","Error","SideBySide","withAsyncRendering","asyncAction","initialState","state","injectedProps","isBusy","dispatchAsyncAction","bind","setState","componentWillReceiveProps","nextProps","shallowEquals","componentDidMount","render","renderBusyComponent","children","Object","assign","React","linkCss","css","StyledLink","Link","StyledAbsLink","a","styles","theme","paper","width","sideMenuWidth","SideMenuComponent","renderDrawer","isSm","menu","onToggle","paddingLeft","items","item","linkTo","isOpen","keepMounted","classes","SideMenu","withStyles","PageHeader","h3","MENU_ITEMS","pageContent","position","top","left","right","maxWidth","padding","marginLeft","breakpoints","up","PageLayoutComponent","isSideMenuOpen","toggleMenu","zIndex","PageLayout","getPageContext","require","default","Root","context","pageContext","sheetsManager","DisplayResults","displayResults","input","overlay","results","displayResultsOptions","defaultProps","withScore","drawLines","options","getContext","clearRect","height","element","getBoundingClientRect","withBoxes","length","resizedResults","res","BoxWithText","FaceLandmarks68","forSize","detections","filter","ObjectDetection","FaceDetectionWithLandmarks","detection","drawDetectionsOptions","textColor","fontSize","faceLandmarks","landmarks","drawLandmarksOptions","color","lineWidth","faceapi","obj1","obj2","excludeKeys","excludeKeysSet","Set","keysSet","keys","key","has","Array","from","values","detectFaceLandmarks","faceLandmark68Net","detectLandmarks","DetectFaceLandmarks","detectFaces","detectionOptions","faceDetections","DetectFaces","MediaElement","_element","preferDefault","m","process","module","exports","computeFaceDescriptors","inputs","every","Promise","all","faceRecognitionNet","computeFaceDescriptor","faceDescriptors","ComputeFaceDescriptors","loadModels","faceLandmarkModelUrl","faceRecognitionModelUrl","load","net","isLoaded","tinyFaceDetector","ssdMobilenetv1","mtcnn","LoadModels","ImageWithOverlay","onImageLoaded","onImageRef","onCanvasRef","onChange","img","onLoaded","el","shouldComponentUpdate","imageSrc","componentDidUpdate","containerStyle","imageStyle","canvasStyle","StaticQueryContext","createContext","StaticQuery","staticQueryData","data","query","propTypes","PropTypes","object","string","isRequired","func","graphql","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","createElement","InternalPageRenderer","json","shape","createMuiTheme","palette","primary","light","cyan","main","dark","createPageContext","Map","sheetsRegistry","SheetsRegistry","generateClassName","createGenerateClassName","browser","global","__INIT_MATERIAL_UI__"],"mappings":"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","file":"1-04886abf0baa468afc27.js","sourcesContent":["export * from './components'\nexport * from './displayResults'\nexport * from './facc'\nexport * from './hoc'\nexport * from './MediaElement'\nexport * from './shallowEquals'\nexport * from './types'\n","import styled from 'styled-components';\n\nexport type CenterContentProps = {\n  alignItems?: string,\n  flexDirection?: 'row' | 'column'\n}\n\nexport const CenterContent = styled.div`\n  display: flex;\n  align-items: ${(props: CenterContentProps) => props.alignItems || 'center'};\n  justify-content: center;\n  flex-direction: ${(props: CenterContentProps) => props.flexDirection || 'row'};\n  flex-wrap: wrap;\n`","import { withPrefix } from 'gatsby-link';\n\nexport const EXAMPLE_IMAGES = [1, 2, 3, 4, 5]\n  .map(idx => `bbt${idx}.jpg`)\n  .map(label => ({\n    label,\n    url: withPrefix(`/images/${label}`)\n  }))\n\nexport const ALIGNED_FACE_IMAGES_BY_CLASS = ['amy', 'bernadette', 'howard', 'leonard', 'penny', 'raj', 'sheldon', 'stuart']\n  .map(\n    clazz => [1, 2, 3, 4, 5]\n      .map(idx => `${clazz}${idx}.png`)\n      .map(label => ({\n        label,\n        url: withPrefix(`/images/${clazz}/${label}`)\n      }))\n  )\n\nexport const EXAMPLE_VIDEO = withPrefix(`/media/bbt.mp4`)\n\nexport const MODELS_URI = withPrefix(`/models`)\n\nexport const ALIGNED_FACE_IMAGES = ALIGNED_FACE_IMAGES_BY_CLASS\n  .reduce((flat, arr) => flat.concat(arr), [])\n\nexport const FACE_DETECTORS = ['Tiny Face Detector', 'SSD Mobilenet V1', 'MTCNN']\n\nexport function isTinyFaceDetector(detectorName: string) {\n  return detectorName === FACE_DETECTORS[0]\n}\n\nexport function isSsdMobilenetv1(detectorName: string) {\n  return detectorName === FACE_DETECTORS[1]\n}\n\nexport function isMtcnn(detectorName: string) {\n  return detectorName === FACE_DETECTORS[2]\n}\n\nexport function getFaceDetectionModelUri(detectorName: string, modelUri: string) {\n  if (isTinyFaceDetector(detectorName)) {\n    return { tinyFaceDetectorModelUrl: modelUri }\n  }\n  if (isSsdMobilenetv1(detectorName)) {\n    return { ssdMobilenetv1ModelUrl: modelUri }\n  }\n  if (isMtcnn(detectorName)) {\n    return { mtcnnModelUrl: modelUri }\n  }\n\n  throw new Error(`getLoadModelsUriFromFaceDetector - invalid face detector: ${detectorName}`)\n}","import styled from 'styled-components';\n\nexport const SideBySide = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`","import * as React from 'react';\n\nimport { shallowEquals } from '../shallowEquals';\nimport { ReactElement } from '../types';\n\nexport interface IsBusy  {\n  isBusy: boolean\n}\n\nexport interface WithAsyncRenderingProps<T extends IsBusy> {\n  children: (injectedProps: T) => ReactElement\n  renderBusyComponent?: () => ReactElement\n}\n\nexport interface WithAsyncRenderingState<InjectedProps> extends IsBusy {\n  injectedProps: InjectedProps | null\n}\n\nexport const withAsyncRendering = <Props, InjectedProps> (\n  asyncAction: (props: Props) => Promise<InjectedProps | null>,\n  initialState?: InjectedProps\n) => {\n\n  type ExtendedComponentProps = Props & WithAsyncRenderingProps<InjectedProps & IsBusy>\n\n  return class extends React.Component<\n    Props & WithAsyncRenderingProps<InjectedProps & IsBusy>\n  > {\n    constructor(props: ExtendedComponentProps) {\n      super(props)\n      this.dispatchAsyncAction = this.dispatchAsyncAction.bind(this)\n    }\n\n    state: WithAsyncRenderingState<InjectedProps> = {\n      injectedProps: initialState,\n      isBusy: true\n    }\n\n    async dispatchAsyncAction(props: Props) {\n      this.setState({ isBusy: true })\n      this.setState({ isBusy: false, injectedProps: await asyncAction(props) })\n    }\n\n    componentWillReceiveProps(nextProps: ExtendedComponentProps) {\n      if (!shallowEquals(this.props, nextProps, ['children'])) {\n        this.dispatchAsyncAction(nextProps)\n      }\n    }\n\n    componentDidMount() {\n      this.dispatchAsyncAction(this.props as any as Props)\n    }\n\n    render() {\n      const { injectedProps, isBusy } = this.state\n      const { renderBusyComponent } = this.props\n\n      if (isBusy) {\n        return renderBusyComponent ? renderBusyComponent() : null\n      }\n\n      return injectedProps\n        ? this.props.children(Object.assign({}, injectedProps, { isBusy }))\n        // case: async action did not resolve state\n        : null\n    }\n  }\n}\n","import Link from 'gatsby-link';\nimport styled, { css } from 'styled-components';\n\nconst linkCss = css`\n  padding: 4px;\n  color: inherit;\n  text-decoration: none;\n  display: block;\n`\n\nexport const StyledLink = styled(Link)`\n  ${linkCss}\n`\n\nexport const StyledAbsLink = styled.a`\n  ${linkCss}\n`","import { Divider, Drawer, Hidden, IconButton, List, ListItem } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport * as React from 'react';\n\nimport { StyledAbsLink, StyledLink } from '../styled/StyledLink';\n\nexport type MenuItem = {\n  label: string\n  linkTo: string\n}\n\ntype SideMenuProps = {\n  items: MenuItem[]\n  isOpen: boolean\n  classes: any\n  onToggle: () => any\n}\n\nconst styles = (theme: any) => ({\n  paper: {\n    width: theme.sideMenuWidth\n  }\n})\n\nclass SideMenuComponent extends React.Component<SideMenuProps> {\n  renderDrawer(isSm: boolean) {\n    const menu = (\n      <div>\n        {\n          isSm &&\n            <IconButton\n              aria-label=\"open drawer\"\n              onClick={this.props.onToggle}\n            >\n              <MenuIcon />\n            </IconButton>\n        }\n        <StyledAbsLink href=\"https://github.com/justadudewhohacks/face-api.js\">\n          <h3 style={{ paddingLeft: 24 }}> face-api.js </h3>\n        </StyledAbsLink>\n        <Divider />\n        <List>\n          {\n            this.props.items.map(\n              item =>\n                <ListItem key={item.linkTo}>\n                  <StyledLink to={item.linkTo}>\n                    { item.label }\n                  </StyledLink>\n                </ListItem>\n            )\n          }\n        </List>\n      </div>\n    )\n\n    return (\n      <Drawer\n        anchor=\"left\"\n        variant={isSm ? 'temporary' : 'permanent'}\n        open={this.props.isOpen}\n        onClose={isSm ? this.props.onToggle : () => {}}\n        ModalProps={{\n          keepMounted: true\n        }}\n        classes={{\n          paper: this.props.classes.paper\n        }}\n      >\n        { menu }\n      </Drawer>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <Hidden mdUp>\n          { this.renderDrawer(true) }\n        </Hidden>\n        <Hidden smDown>\n          { this.renderDrawer(false) }\n        </Hidden>\n      </div>\n    )\n  }\n}\n\nexport const SideMenu = withStyles(styles)(SideMenuComponent)","import { IconButton } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nimport { CenterContent } from '../styled/CenterContent';\nimport { SideMenu } from '../components/SideMenu';\n\nconst PageHeader = styled.h3`\n  text-align: center;\n`\n\nconst MENU_ITEMS = [\n  { label: 'Face And Landmark Detection', linkTo: '/face_and_landmark_detection' },\n  { label: 'Face Recognition', linkTo: '/face_recognition' },\n  { label: 'Video Face Tracking', linkTo: '/video_face_tracking' },\n  { label: 'Webcam Face Tracking', linkTo: '/webcam_face_tracking' },\n  { label: 'BBT Face Landmark Detection', linkTo: '/bbt_face_landmark_detection' },\n  { label: 'BBT Face Similarity', linkTo: '/bbt_face_similarity' },\n  { label: 'BBT Face Recognition', linkTo: '/bbt_face_recognition' }\n]\n\nconst styles = (theme: any) => ({\n  pageContent: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    maxWidth: '800px',\n    padding: '10px',\n    marginLeft: '0px',\n    [theme.breakpoints.up('md')]: {\n      marginLeft: theme.sideMenuWidth\n    }\n  }\n})\n\ntype PageLayoutProps = {\n  classes: any\n}\n\ntype PageLayoutState = {\n  isSideMenuOpen: boolean\n}\n\nclass PageLayoutComponent extends React.Component<PageLayoutProps, PageLayoutState> {\n  state: PageLayoutState = {\n    isSideMenuOpen: false\n  }\n\n  toggleMenu = () => {\n    this.setState(state => ({ isSideMenuOpen: !state.isSideMenuOpen }))\n  }\n\n  public render() {\n    return (\n      <div>\n        <IconButton\n          aria-label=\"open drawer\"\n          onClick={this.toggleMenu}\n          style={{ zIndex: 999 }}\n        >\n          <MenuIcon />\n        </IconButton>\n        <SideMenu\n          items={MENU_ITEMS}\n          isOpen={this.state.isSideMenuOpen}\n          onToggle={this.toggleMenu}\n        />\n        <div className={this.props.classes.pageContent}>\n          <CenterContent>\n            <div>\n              <PageHeader>\n                face-api.js playground\n              </PageHeader>\n              { this.props.children }\n              </div>\n          </CenterContent>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport const PageLayout = withStyles(styles as any)(PageLayoutComponent)","import { MuiThemeProvider } from '@material-ui/core';\r\nimport * as React from 'react';\r\n\r\nimport { PageLayout } from './layouts/PageLayout';\r\n\r\nconst getPageContext = require('./getPageContext').default\r\n\r\nexport class Root extends React.Component {\r\n\r\n  pageContext: any = {}\r\n\r\n  constructor(props: any, context: any){\r\n    super(props, context)\r\n    this.pageContext = getPageContext()\r\n  }\r\n\r\n  public render() {\r\n    return(\r\n      <MuiThemeProvider\r\n        theme={this.pageContext.theme}\r\n        sheetsManager={this.pageContext.sheetsManager}\r\n      >\r\n        <PageLayout>\r\n          { this.props.children }\r\n        </PageLayout>\r\n      </MuiThemeProvider>\r\n    )\r\n  }\r\n}","import { BoxWithText, FaceDetection, FaceDetectionWithLandmarks, FaceLandmarks68 } from 'face-api.js';\nimport { MediaElement, shallowEquals } from 'face-api.js-react';\nimport * as React from 'react';\n\nimport { displayResults, DisplayResultsOptions } from '../displayResults';\nimport { ReactElement } from '../types';\n\nexport type DisplayResultsProps = {\n  input: MediaElement\n  overlay: HTMLCanvasElement\n  results?: Array<FaceDetection | FaceLandmarks68 | FaceDetectionWithLandmarks | BoxWithText>\n  displayResultsOptions?: DisplayResultsOptions\n  children?: () => ReactElement\n}\n\nexport class DisplayResults extends React.Component<DisplayResultsProps> {\n\n  static defaultProps: Partial<DisplayResultsProps> = {\n    displayResultsOptions: {\n      withScore: true,\n      drawLines: true\n    }\n  }\n\n  displayResults({ input, overlay, results, displayResultsOptions }: DisplayResultsProps) {\n    displayResults(input, overlay, results, displayResultsOptions)\n  }\n\n  componentWillReceiveProps(nextProps: DisplayResultsProps) {\n    if (!shallowEquals(this.props, nextProps, ['children'])) {\n      this.displayResults(nextProps)\n    }\n  }\n\n  componentDidMount() {\n    this.displayResults(this.props)\n  }\n\n  render(): any {\n    const { children } = this.props\n    return children ? children() : null\n  }\n}","import { BoxWithText, FaceDetection, FaceDetectionWithLandmarks, FaceLandmarks68, ObjectDetection } from 'face-api.js';\nimport * as faceapi from 'face-api.js';\n\nimport { MediaElement } from './MediaElement';\n\nexport type DisplayResultsOptions = {\n  withBoxes?: boolean\n  withScore?: boolean\n  drawLines?: boolean\n}\n\nexport function displayResults(\n  input: MediaElement,\n  overlay: HTMLCanvasElement,\n  results: Array<FaceDetection | FaceLandmarks68 | FaceDetectionWithLandmarks | BoxWithText>,\n  options: DisplayResultsOptions\n) {\n  if (!input || !overlay) {\n    return\n  }\n\n  overlay.getContext('2d').clearRect(0, 0, overlay.width, overlay.height)\n\n  const { width, height } = input.element.getBoundingClientRect()\n  overlay.width = width\n  overlay.height = height\n\n  const { withBoxes, withScore = true, drawLines = true } = options\n\n  if (!results || !results.length) {\n    return\n  }\n\n  const resizedResults = results\n    .map(res =>\n      res instanceof BoxWithText\n        ? res\n        : (\n          res instanceof FaceLandmarks68\n            ? res.forSize(overlay.width, overlay.height)\n            : res.forSize(overlay.width, overlay.height)\n        )\n    )\n\n  const detections = resizedResults\n    .filter(res => res instanceof ObjectDetection || res instanceof FaceDetectionWithLandmarks || res instanceof BoxWithText)\n    .map((res: ObjectDetection | FaceDetectionWithLandmarks | BoxWithText) =>\n      (res instanceof BoxWithText || res instanceof ObjectDetection)\n        ? res\n        : res.detection\n    )\n\n  const drawDetectionsOptions = {\n    withScore,\n    textColor: 'red',\n    fontSize: 16\n  }\n\n  const faceLandmarks = resizedResults\n    .filter(res => res instanceof FaceLandmarks68 || res instanceof FaceDetectionWithLandmarks)\n    .map((res: FaceLandmarks68 | FaceDetectionWithLandmarks) =>\n      res instanceof FaceLandmarks68\n        ? res\n        : res.landmarks\n    )\n\n\n  const drawLandmarksOptions = {\n    drawLines,\n    color: 'green',\n    lineWidth: 2\n  }\n\n  if (withBoxes || !faceLandmarks.length) {\n    faceapi.drawDetection(overlay, detections, drawDetectionsOptions)\n  }\n  faceapi.drawLandmarks(overlay, faceLandmarks, drawLandmarksOptions)\n}","export function shallowEquals(obj1: any, obj2: any, excludeKeys: string[] = []) {\n  const excludeKeysSet = new Set(excludeKeys)\n\n  const keysSet = new Set(\n    Object.keys(obj1)\n      .concat(Object.keys(obj2))\n      .filter(key => !excludeKeysSet.has(key))\n  )\n\n  return Array.from(keysSet.values())\n    .filter(key => obj1[key] !== obj2[key])\n    .length === 0\n}","import * as faceapi from 'face-api.js';\nimport { FaceLandmarks68 } from 'face-api.js';\nimport { withAsyncRendering } from '../hoc/withAsyncRendering';\nimport { MediaElement } from '../MediaElement';\n\nexport interface DetectFaceLandmarksProps {\n  input?: MediaElement\n}\n\nexport interface DetectFaceLandmarksState {\n  faceLandmarks?: FaceLandmarks68\n}\n\nasync function detectFaceLandmarks(props: DetectFaceLandmarksProps) {\n  if (!props.input) {\n    return\n  }\n\n  const faceLandmarks = (await faceapi.nets.faceLandmark68Net.detectLandmarks(props.input.element)) as FaceLandmarks68\n\n  return {\n    faceLandmarks\n  }\n}\n\nexport const DetectFaceLandmarks =\n  withAsyncRendering<DetectFaceLandmarksProps, DetectFaceLandmarksState>(detectFaceLandmarks)\n","import * as faceapi from 'face-api.js';\n\nimport { withAsyncRendering } from '../hoc/withAsyncRendering';\nimport { MediaElement } from '../MediaElement';\nimport { FaceDetectionOptions, FaceDetection } from 'face-api.js';\n\nexport interface DetectFacesProps {\n  detectionOptions: FaceDetectionOptions\n  input?: MediaElement\n}\n\nexport interface DetectFacesState {\n  faceDetections?: FaceDetection[]\n}\n\nasync function detectFaces(props: DetectFacesProps) {\n\n  if (!props.input) {\n    return null\n  }\n\n  return {\n    faceDetections: await faceapi.detectAllFaces(props.input.element, props.detectionOptions)\n  }\n}\n\nexport const DetectFaces =\n  withAsyncRendering<DetectFacesProps, DetectFacesState>(detectFaces)\n","export * from './withAsyncRendering'","import { TMediaElement } from 'face-api.js';\n\nexport class MediaElement {\n  private _element: TMediaElement\n\n  constructor(element: TMediaElement) {\n    this._element = element\n  }\n\n  public get element(): TMediaElement {\n    return this._element\n  }\n}","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import * as faceapi from 'face-api.js';\n\nimport { withAsyncRendering } from '../hoc/withAsyncRendering';\nimport { MediaElement } from '../MediaElement';\n\nexport interface ComputeFaceDescriptorsProps {\n  inputs: Array<MediaElement | undefined>\n}\n\nexport interface ComputeFaceDescriptorsState {\n  faceDescriptors?: Float32Array[]\n}\n\nasync function computeFaceDescriptors(props: ComputeFaceDescriptorsProps) {\n  if (!props.inputs.every(input => !!input)) {\n    return\n  }\n\n  const faceDescriptors = await Promise.all(\n    props.inputs.map(input =>\n      faceapi.nets.faceRecognitionNet.computeFaceDescriptor(input.element) as Promise<Float32Array>\n    )\n  )\n\n  return {\n    faceDescriptors\n  }\n}\n\nexport const ComputeFaceDescriptors =\n  withAsyncRendering<ComputeFaceDescriptorsProps, ComputeFaceDescriptorsState>(computeFaceDescriptors)\n\n","import { NeuralNetwork } from 'face-api.js';\nimport * as faceapi from 'face-api.js';\n\nimport { withAsyncRendering } from '../hoc/withAsyncRendering';\n\nexport interface LoadModelsProps {\n  ssdMobilenetv1ModelUrl?: string\n  tinyFaceDetectorModelUrl?: string\n  mtcnnModelUrl?: string\n  faceLandmarkModelUrl?: string\n  faceRecognitionModelUrl?: string\n}\n\nexport interface LoadModelsState {}\n\nasync function loadModels(props: LoadModelsProps) {\n  const {\n    ssdMobilenetv1ModelUrl,\n    mtcnnModelUrl,\n    tinyFaceDetectorModelUrl,\n    faceLandmarkModelUrl,\n    faceRecognitionModelUrl\n  } = props\n\n  const load = async (net: NeuralNetwork<any>, url?: string) => {\n    if (url && !net.isLoaded) {\n      await net.load(url)\n    }\n  }\n\n  await Promise.all([\n    load(faceapi.nets.tinyFaceDetector, tinyFaceDetectorModelUrl),\n    load(faceapi.nets.ssdMobilenetv1, ssdMobilenetv1ModelUrl),\n    load(faceapi.nets.mtcnn, mtcnnModelUrl),\n    load(faceapi.nets.faceLandmark68Net, faceLandmarkModelUrl),\n    load(faceapi.nets.faceRecognitionNet, faceRecognitionModelUrl)\n  ])\n\n  return {}\n}\n\nexport const LoadModels = withAsyncRendering<LoadModelsProps, LoadModelsState>(loadModels)","export * from './ComputeFaceDescriptors'\nexport * from './DetectFaceLandmarks'\nexport * from './DetectFaces'\nexport * from './LoadModels'","import * as React from 'react';\n\nimport { MediaElement } from '../';\n\nexport type ImageWithOverlayProps = {\n  imageSrc: string\n  onLoaded: (refs: { img: MediaElement, overlay: HTMLCanvasElement}) => any\n  containerStyle?: React.CSSProperties\n  imageStyle?: React.CSSProperties\n  canvasStyle?: React.CSSProperties\n}\n\nexport class ImageWithOverlay extends React.Component<ImageWithOverlayProps> {\n  img: HTMLImageElement | undefined\n  overlay: HTMLCanvasElement | undefined\n  isLoaded: boolean = false\n\n  constructor(props: ImageWithOverlayProps) {\n    super(props)\n\n    this.onImageLoaded = this.onImageLoaded.bind(this)\n    this.onImageRef = this.onImageRef.bind(this)\n    this.onCanvasRef = this.onCanvasRef.bind(this)\n    this.onChange = this.onChange.bind(this)\n  }\n\n  onChange() {\n    const { img, overlay, isLoaded } = this\n\n    if (img && overlay && isLoaded) {\n      this.overlay.height = this.img.height\n      this.overlay.width = this.img.width\n      this.props.onLoaded({ img: new MediaElement(img), overlay })\n    }\n  }\n\n  onImageLoaded() {\n    this.isLoaded = true\n    this.onChange()\n  }\n\n  onImageRef(el: HTMLImageElement) {\n    this.img = el\n    this.onChange()\n  }\n\n  onCanvasRef(el: HTMLCanvasElement) {\n    this.overlay = el\n    this.onChange()\n  }\n\n  shouldComponentUpdate(nextProps: ImageWithOverlayProps) {\n    return nextProps.imageSrc !== this.props.imageSrc\n  }\n\n  componentDidUpdate() {\n    this.onChange()\n  }\n\n  componentDidMount() {\n    this.onChange()\n  }\n\n  public render() {\n    return(\n      <div style={Object.assign({}, { position: 'relative' }, this.props.containerStyle)}>\n        <img\n          src={this.props.imageSrc}\n          ref={this.onImageRef}\n          style={Object.assign({ width: '100%' }, this.props.imageStyle)}\n          onLoad={this.onImageLoaded}\n        />\n        <canvas\n          style={Object.assign({}, { position: 'absolute', top: 0, left: 0 }, this.props.canvasStyle)}\n          ref={this.onCanvasRef}\n        />\n      </div>\n    )\n  }\n}","export * from './DisplayResults'\nexport * from './ImageWithOverlay'","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { SheetsRegistry } from 'jss';\nimport { createMuiTheme, createGenerateClassName } from '@material-ui/core/styles';\nimport cyan from '@material-ui/core/colors/cyan';\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: cyan[300],\n      main: cyan[500],\n      dark: cyan[700]\n    }\n  },\n  sideMenuWidth: '240px'\n});\n\nfunction createPageContext() {\n  return {\n    theme,\n    // This is needed in order to deduplicate the injection of CSS in the page.\n    sheetsManager: new Map(),\n    // This is needed in order to inject the critical CSS.\n    sheetsRegistry: new SheetsRegistry(),\n    // The standard class name generator.\n    generateClassName: createGenerateClassName(),\n  };\n}\n\nexport default function getPageContext() {\n  // Make sure to create a new context for every server-side request so that data\n  // isn't shared between connections (which would be bad).\n  if (!process.browser) {\n    return createPageContext();\n  }\n\n  // Reuse context on the client-side.\n  if (!global.__INIT_MATERIAL_UI__) {\n    global.__INIT_MATERIAL_UI__ = createPageContext();\n  }\n\n  return global.__INIT_MATERIAL_UI__;\n}"],"sourceRoot":""}