{"id":"../src/layers/common.ts","dependencies":[{"name":"C:\\Users\\user\\dev\\face-api.js\\face-api.js\\tsconfig.json","includedInParent":true,"mtime":1574092353318},{"name":"C:\\Users\\user\\dev\\face-api.js\\face-api.js\\benchmarks\\package.json","includedInParent":true,"mtime":1581243096903},{"name":"../utils","loc":{"line":3,"column":22},"parent":"C:\\Users\\user\\dev\\face-api.js\\face-api.js\\src\\layers\\common.ts","resolved":"C:\\Users\\user\\dev\\face-api.js\\face-api.js\\src\\utils\\index.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"../utils\");\n\nfunction extractWeightTensor4D(weightMap, name) {\n  return extractWeightTensor(weightMap, name, 4);\n}\n\nexports.extractWeightTensor4D = extractWeightTensor4D;\n\nfunction extractWeightTensor1D(weightMap, name) {\n  return extractWeightTensor(weightMap, name, 1);\n}\n\nexports.extractWeightTensor1D = extractWeightTensor1D;\n\nfunction extractWeightTensor(weightMap, name, paramRank) {\n  var tensor = weightMap[name];\n\n  if (!utils_1.isTensor(tensor, paramRank)) {\n    throw new Error(\"expected weightMap[\" + name + \"] to be a Tensor\" + paramRank + \"D, instead have \" + tensor);\n  }\n\n  return tensor;\n}\n\nexports.extractWeightTensor = extractWeightTensor;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":4}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":11}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":14}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":21}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":22}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":32}},{"source":"../src/layers/common.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":33}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":9,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":9,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":9,"column":30}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":38},"generated":{"line":9,"column":31}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":9,"column":40}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":68},"generated":{"line":9,"column":42}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":9,"column":46}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":80},"generated":{"line":9,"column":48}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":10,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":10,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":28},"generated":{"line":10,"column":28}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":41},"generated":{"line":10,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":28},"generated":{"line":10,"column":38}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":52},"generated":{"line":10,"column":40}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":28},"generated":{"line":10,"column":44}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":58},"generated":{"line":10,"column":46}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":28},"generated":{"line":10,"column":47}},{"source":"../src/layers/common.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":10,"column":48}},{"source":"../src/layers/common.ts","name":null,"original":{"line":7,"column":1},"generated":{"line":11,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":7}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":8}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":32}},{"source":"../src/layers/common.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":13,"column":53}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":15,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":15,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":15,"column":30}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":38},"generated":{"line":15,"column":31}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":15,"column":40}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":68},"generated":{"line":15,"column":42}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":15,"column":46}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":80},"generated":{"line":15,"column":48}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":16,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":16,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":16,"column":28}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":41},"generated":{"line":16,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":16,"column":38}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":52},"generated":{"line":16,"column":40}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":16,"column":44}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":58},"generated":{"line":16,"column":46}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":16,"column":47}},{"source":"../src/layers/common.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":16,"column":48}},{"source":"../src/layers/common.ts","name":null,"original":{"line":11,"column":1},"generated":{"line":17,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":7}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":8}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":32}},{"source":"../src/layers/common.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":53}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":21,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":21,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":21,"column":28}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":55},"generated":{"line":21,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":21,"column":38}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":85},"generated":{"line":21,"column":40}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":21,"column":44}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":99},"generated":{"line":21,"column":46}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":21,"column":55}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":116},"generated":{"line":21,"column":57}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":22,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":22,"column":6}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":22,"column":12}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":17},"generated":{"line":22,"column":15}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":22,"column":24}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":27},"generated":{"line":22,"column":25}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":22,"column":29}},{"source":"../src/layers/common.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":22,"column":30}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":24,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":24,"column":6}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":7}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":14}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":15}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":23}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":19},"generated":{"line":24,"column":24}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":30}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":27},"generated":{"line":24,"column":32}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":24,"column":41}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":24,"column":42}},{"source":"../src/layers/common.ts","name":null,"original":{"line":15,"column":39},"generated":{"line":24,"column":44}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":25,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":25,"column":10}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":25,"column":14}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":25,"column":19}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":25,"column":20}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":25,"column":44}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":25,"column":48}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":46},"generated":{"line":25,"column":51}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":25,"column":69}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":65},"generated":{"line":25,"column":72}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":25,"column":81}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":74},"generated":{"line":25,"column":84}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":25,"column":102}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":93},"generated":{"line":25,"column":105}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":25,"column":111}},{"source":"../src/layers/common.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":25,"column":112}},{"source":"../src/layers/common.ts","name":null,"original":{"line":17,"column":3},"generated":{"line":26,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":28,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":28,"column":9}},{"source":"../src/layers/common.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":28,"column":15}},{"source":"../src/layers/common.ts","name":null,"original":{"line":20,"column":1},"generated":{"line":29,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":0}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":7}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":8}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":27}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":30}},{"source":"../src/layers/common.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":31,"column":49}}],"sources":{"../src/layers/common.ts":"import * as tf from '@tensorflow/tfjs-core';\r\n\r\nimport { isTensor } from '../utils';\r\n\r\nexport function extractWeightTensor4D(weightMap: tf.NamedTensorMap, name: string): tf.Tensor4D {\r\n  return extractWeightTensor<tf.Rank.R4>(weightMap, name, 4)\r\n}\r\n\r\nexport function extractWeightTensor1D(weightMap: tf.NamedTensorMap, name: string): tf.Tensor1D {\r\n  return extractWeightTensor<tf.Rank.R1>(weightMap, name, 1)\r\n}\r\n\r\nexport function extractWeightTensor<R extends tf.Rank>(weightMap: tf.NamedTensorMap, name: string, paramRank: number): tf.Tensor<R> {\r\n  const tensor = weightMap[name]\r\n  if (!isTensor<R>(tensor, paramRank)) {\r\n    throw new Error(`expected weightMap[${name}] to be a Tensor${paramRank}D, instead have ${tensor}`)\r\n  }\r\n\r\n  return tensor\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"10e0ad14aed8079d98f3d8e4cc8a7cdf","cacheData":{"env":{}}}