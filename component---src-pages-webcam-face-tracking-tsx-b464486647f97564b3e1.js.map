{"version":3,"sources":["webpack:///./src/pages/webcam_face_tracking.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_flags.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/components/ModalLoader.tsx","webpack:///./src/components/AdjustableInput.tsx","webpack:///./src/facc/MtcnnControls.tsx","webpack:///./src/facc/SsdMobilenetv1Controls.tsx","webpack:///./src/facc/TinyFaceDetectorControls.tsx","webpack:///./src/facc/SelectFaceDetector.tsx","webpack:///./src/components/FaceDetection.tsx","webpack:///./src/components/TrackFaces.tsx","webpack:///./src/components/FaceAndLandmarkDetection.tsx","webpack:///./src/components/VideoWithOverlay.tsx","webpack:///./src/components/TrackFacesWithLandmarks.tsx","webpack:///./src/components/WebcamVideoWithOverlay.tsx"],"names":["render","window","document","input","video","overlay","setState","state","FACE_DETECTORS","TinyFaceDetectorOptions","inputSize","detectionOptions","withBoxes","withLandmarks","React","ModalLoader","props","title","StyledFormControl","styled","FormControl","StyledButton","Button","AdjustableInput","inputId","label","value","onChange","Math","max","step","minValue","min","maxValue","MtcnnParamControls","assignOptions","partial","detectionParams","scaleFactor","minFaceSize","MtcnnOptions","MtcnnControls","renderControls","children","SsdMobilenetv1ParamControls","minConfidence","SsdMobilenetv1Options","SsdMobilenetv1Controls","TinyFaceDetectorParamControls","scoreThreshold","e","target","inputSizes","map","size","TinyFaceDetectorControls","initialDetectionParams","defaultProps","SelectFaceDetector","renderSelection","marginRight","detector","item","initialFaceDetector","renderChildren","options","isSsdMobilenetv1","isTinyFaceDetector","initialTinyFaceDetectorOptions","isMtcnn","FaceDetection","detectorName","renderFaceDetectorSelection","renderFaceDetectorControls","getFaceDetectionModelUri","MODELS_URI","renderCheckboxes","TrackFaces","isActive","run","setTimeout","runTask","results","displayResults","displayOptions","componentDidMount","componentWillUnmount","FaceAndLandmarkDetection","VideoWithOverlay","isLoaded","bind","onVideoRef","onCanvasRef","onPlay","getBoundingClientRect","width","height","onLoaded","MediaElement","el","componentWillReceiveProps","nextProps","srcObject","shouldComponentUpdate","componentDidUpdate","position","maxWidth","maxVideoWidth","src","top","left","TrackFacesWithLandmarks","task","faceapi","element","withFaceLandmarks","WebcamVideoWithOverlay","navigator","mediaDevices","getUserMedia","error","toString","background","color"],"mappings":"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","file":"component---src-pages-webcam-face-tracking-tsx-b464486647f97564b3e1.js","sourcesContent":["import { TinyFaceDetectorOptions } from 'face-api.js';\nimport * as React from 'react';\n\nimport { MediaElement } from '../../face-api.js-react/MediaElement';\nimport { FaceAndLandmarkDetection } from '../components/FaceAndLandmarkDetection';\nimport { TrackFacesWithLandmarks } from '../components/TrackFacesWithLandmarks';\nimport { WebcamVideoWithOverlay } from '../components/WebcamVideoWithOverlay';\nimport { FACE_DETECTORS } from '../const';\nimport { Root } from '../Root';\n\ntype PageState = {\n  input?: MediaElement\n  overlay?: HTMLCanvasElement\n}\n\nexport default class extends React.Component<{}, PageState> {\n\n  public render() {\n    if (!(typeof window !== 'undefined' && window.document) ){\n      return null\n    }\n\n    return(\n      <Root>\n        <WebcamVideoWithOverlay\n          onLoaded={({ video: input, overlay }) => this.setState({ input, overlay })}\n          maxVideoWidth={800}\n        />\n        <FaceAndLandmarkDetection\n          {...this.state}\n          initialFaceDetector={FACE_DETECTORS[0]}\n          initialTinyFaceDetectorOptions={new TinyFaceDetectorOptions({ inputSize: 224 })}\n        >\n        {(detectionOptions, withBoxes, withLandmarks) =>\n          <TrackFacesWithLandmarks\n            detectionOptions={detectionOptions}\n            withBoxes={withBoxes}\n            withLandmarks={withLandmarks}\n            {...this.state}\n          />\n        }\n        </FaceAndLandmarkDetection>\n      </Root>\n    )\n  }\n}","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","import { Dialog, DialogContent, DialogTitle, LinearProgress } from '@material-ui/core';\nimport * as React from 'react';\n\nexport interface ModalLoaderProps {\n  title: string\n}\n\nexport const ModalLoader = (props: ModalLoaderProps) =>         \n  <Dialog\n    disableBackdropClick\n    disableEscapeKeyDown\n    open={true}\n  >\n    <DialogTitle>\n      { props.title }\n    </DialogTitle>\n    <DialogContent>\n      <LinearProgress />\n    </DialogContent>\n  </Dialog>","import { Button, FormControl, Input, InputLabel } from '@material-ui/core';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { SideBySide } from '../styled/SideBySide';\n\nexport const StyledFormControl = styled(FormControl)`\n  margin: 10px !important;\n`\n\nexport const StyledButton = styled(Button)`\n  width: 40px;\n  height: 40px;\n`\n\nexport type AdjustableInputProps = {\n  inputId: string\n  label: string\n  value: number\n  minValue: number\n  maxValue: number\n  step: number\n  onChange: (newValue: number) => any\n}\n\nexport const AdjustableInput = (props: AdjustableInputProps) =>\n  <StyledFormControl>\n    <SideBySide>\n      <InputLabel htmlFor={props.inputId}>\n        { props.label }\n      </InputLabel>\n      <Input\n        id={props.inputId}\n        value={props.value}\n      />\n      <StyledButton\n        variant=\"outlined\"\n        onClick={\n          () => props.onChange(Math.max(props.value - props.step, props.minValue))\n        }\n      >\n        -\n      </StyledButton>\n      <StyledButton\n        variant=\"outlined\"\n        onClick={\n          () => props.onChange(Math.min(props.value + props.step, props.maxValue))\n        }\n      >\n        +\n      </StyledButton>\n    </SideBySide>\n  </StyledFormControl>","import { IMtcnnOptions, MtcnnOptions } from 'face-api.js';\nimport * as React from 'react';\n\nimport { ReactElement } from '../../face-api.js-react';\nimport { AdjustableInput } from '../components/AdjustableInput';\nimport { CenterContent } from '../styled/CenterContent';\n\nexport interface MtcnnParamControlsProps {\n  detectionParams: MtcnnOptions\n  onChange: (detectionParams: MtcnnOptions) => any\n}\n\nexport const MtcnnParamControls = (props: MtcnnParamControlsProps) => {\n\n  const assignOptions = (partial: Partial<IMtcnnOptions>): MtcnnOptions => {\n    const { scaleFactor, minFaceSize } = props.detectionParams\n    return new MtcnnOptions({ scaleFactor, minFaceSize, ...partial })\n  }\n\n  return (\n    <CenterContent>\n      <AdjustableInput\n        inputId=\"scaleFactor\"\n        label=\"scaleFactor:\"\n        value={props.detectionParams.scaleFactor}\n        minValue={0.1}\n        maxValue={0.9}\n        step={0.05}\n        onChange={\n          (scaleFactor: number) => props.onChange(\n            assignOptions({ scaleFactor })\n          )\n        }\n      />\n      <AdjustableInput\n        inputId=\"minFaceSize\"\n        label=\"minFaceSize:\"\n        value={props.detectionParams.minFaceSize}\n        minValue={40}\n        maxValue={400}\n        step={40}\n        onChange={\n          (minFaceSize: number) => props.onChange(\n            assignOptions({ minFaceSize })\n          )\n        }\n      />\n    </CenterContent>\n  )\n}\n\nexport type MtcnnControlsProps = {\n  children: (detectionParams: MtcnnOptions, renderControls: () => ReactElement) => ReactElement\n}\n\nexport type MtcnnControlsState = {\n  detectionParams: MtcnnOptions\n}\n\nexport class MtcnnControls extends React.Component<MtcnnControlsProps, MtcnnControlsState> {\n\n  state: MtcnnControlsState = {\n    detectionParams: new MtcnnOptions()\n  }\n\n  renderControls = () =>\n    <MtcnnParamControls\n      detectionParams={this.state.detectionParams}\n      onChange={detectionParams => this.setState({ detectionParams })}\n    />\n\n  public render() {\n    return this.props.children(this.state.detectionParams, this.renderControls)\n  }\n}","import { ISsdMobilenetv1Options, SsdMobilenetv1Options } from 'face-api.js';\nimport * as React from 'react';\n\nimport { ReactElement } from '../../face-api.js-react';\nimport { AdjustableInput } from '../components/AdjustableInput';\nimport { CenterContent } from '../styled/CenterContent';\n\nexport interface SsdMobilenetv1ParamControlsProps {\n  detectionParams: SsdMobilenetv1Options\n  onChange: (detectionParams: SsdMobilenetv1Options) => any\n}\n\nexport const SsdMobilenetv1ParamControls = (props: SsdMobilenetv1ParamControlsProps) => {\n\n  const assignOptions = (partial: Partial<ISsdMobilenetv1Options>): SsdMobilenetv1Options => {\n    const { minConfidence } = props.detectionParams\n    return new SsdMobilenetv1Options({ minConfidence, ...partial })\n  }\n\n  return (\n    <CenterContent>\n      <AdjustableInput\n        inputId=\"minConfidence\"\n        label=\"minConfidence:\"\n        value={props.detectionParams.minConfidence}\n        minValue={0.1}\n        maxValue={0.9}\n        step={0.1}\n        onChange={\n          (minConfidence: number) => props.onChange(\n            assignOptions({ minConfidence })\n          )\n        }\n      />\n    </CenterContent>\n  )\n}\n\nexport type SsdMobilenetv1ControlsProps = {\n  children: (detectionParams: SsdMobilenetv1Options, renderControls: () => ReactElement) => ReactElement\n}\n\nexport type SsdMobilenetv1ControlsState = {\n  detectionParams: SsdMobilenetv1Options\n}\n\nexport class SsdMobilenetv1Controls extends React.Component<SsdMobilenetv1ControlsProps, SsdMobilenetv1ControlsState> {\n\n  state: SsdMobilenetv1ControlsState = {\n    detectionParams: new SsdMobilenetv1Options()\n  }\n\n  renderControls = () =>\n    <SsdMobilenetv1ParamControls\n      detectionParams={this.state.detectionParams}\n      onChange={detectionParams => this.setState({ detectionParams })}\n    />\n\n  public render() {\n    return this.props.children(this.state.detectionParams, this.renderControls)\n  }\n}","import { Input, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport { ITinyFaceDetectorOptions, TinyFaceDetectorOptions } from 'face-api.js';\nimport * as React from 'react';\n\nimport { ReactElement } from '../../face-api.js-react';\nimport { AdjustableInput } from '../components/AdjustableInput';\nimport { CenterContent } from '../styled/CenterContent';\n\nexport interface TinyFaceDetectorParamControlsProps {\n  inputSizes: number[]\n  detectionParams: TinyFaceDetectorOptions\n  onChange: (detectionParams: TinyFaceDetectorOptions) => any\n}\n\nexport const TinyFaceDetectorParamControls = (props: TinyFaceDetectorParamControlsProps) => {\n\n  const assignOptions = (partial: Partial<ITinyFaceDetectorOptions>): TinyFaceDetectorOptions => {\n    const { inputSize, scoreThreshold } = props.detectionParams\n    return new TinyFaceDetectorOptions({ inputSize, scoreThreshold, ...partial })\n  }\n\n  return (\n    <CenterContent>\n      <InputLabel htmlFor=\"selectInputSize\">\n        Input Size\n      </InputLabel>\n      <Select\n        value={props.detectionParams.inputSize}\n        onChange={\n          (e: any) => props.onChange(\n            assignOptions({ inputSize: e.target.value })\n          )\n        }\n        input={<Input />}\n        id=\"selectInputSize\"\n      >\n        {\n          props.inputSizes.map((size: number) =>\n            <MenuItem\n              key={size}\n              value={size}\n            >\n              { size }\n            </MenuItem>\n          )\n        }\n      </Select>\n      <AdjustableInput\n        inputId=\"scoreThreshold\"\n        label=\"scoreThreshold:\"\n        value={props.detectionParams.scoreThreshold}\n        minValue={0.1}\n        maxValue={0.9}\n        step={0.1}\n        onChange={\n          (scoreThreshold: number) => props.onChange(\n            assignOptions({ scoreThreshold })\n          )\n        }\n      />\n    </CenterContent>\n  )\n}\n\nexport type TinyFaceDetectorControlsProps = {\n  inputSizes: number[]\n  children: (props: TinyFaceDetectorOptions, renderControls: () => ReactElement) => ReactElement\n  initialDetectionParams?: TinyFaceDetectorOptions\n}\n\nexport type TinyFaceDetectorControlsState = {\n  detectionParams: TinyFaceDetectorOptions\n}\n\nexport class TinyFaceDetectorControls extends React.Component<TinyFaceDetectorControlsProps, TinyFaceDetectorControlsState> {\n\n  static defaultProps: Partial<TinyFaceDetectorControlsProps> = {\n    initialDetectionParams: new TinyFaceDetectorOptions()\n  }\n\n  constructor(props: TinyFaceDetectorControlsProps) {\n    super(props)\n    this.state = {\n      detectionParams: this.props.initialDetectionParams\n    }\n  }\n\n  renderControls = () =>\n    <TinyFaceDetectorParamControls\n      inputSizes={this.props.inputSizes}\n      detectionParams={this.state.detectionParams}\n      onChange={detectionParams => this.setState({ detectionParams })}\n    />\n\n  public render() {\n    return this.props.children(this.state.detectionParams, this.renderControls)\n  }\n}","import { Input, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport { FaceDetectionOptions, TinyFaceDetectorOptions } from 'face-api.js';\nimport * as React from 'react';\n\nimport { ReactElement } from '../../face-api.js-react/types';\nimport { FACE_DETECTORS, isMtcnn, isSsdMobilenetv1, isTinyFaceDetector } from '../const';\nimport { MtcnnControls } from './MtcnnControls';\nimport { SsdMobilenetv1Controls } from './SsdMobilenetv1Controls';\nimport { TinyFaceDetectorControls } from './TinyFaceDetectorControls';\n\nexport interface SelectFaceDetectorProps {\n  children: (\n    detectorName: string,\n    faceDetectionOptions: FaceDetectionOptions,\n    renderSelection: () => ReactElement,\n    renderFaceDetectionControls: () => ReactElement\n  ) => ReactElement,\n  initialFaceDetector: string,\n  initialTinyFaceDetectorOptions?: TinyFaceDetectorOptions\n}\n\nexport interface SelectFaceDetectorState {\n  detector: string\n}\n\nexport class SelectFaceDetector extends React.Component<SelectFaceDetectorProps, SelectFaceDetectorState> {\n  constructor(props: SelectFaceDetectorProps) {\n    super(props)\n    this.state = {\n      detector: props.initialFaceDetector\n    }\n  }\n\n  renderSelection = () =>\n    <div style={{ marginRight: 10 }}>\n      <InputLabel htmlFor=\"selectFaceDetector\">\n        Choose face detector:\n      </InputLabel>\n      <Select\n        value={this.state.detector}\n        onChange={e => this.setState({ detector: e.target.value })}\n        input={<Input />}\n        id=\"selectFaceDetector\"\n      >\n      {\n        FACE_DETECTORS.map(item =>\n          <MenuItem\n            key={item}\n            value={item}\n          >\n            { item }\n          </MenuItem>\n        )\n      }\n      </Select>\n    </div>\n\n  render() {\n    const renderChildren = (options: FaceDetectionOptions, renderControls: () => ReactElement) =>\n      this.props.children(this.state.detector, options, this.renderSelection, renderControls)\n\n    if (isSsdMobilenetv1(this.state.detector)) {\n      return (\n        <SsdMobilenetv1Controls>\n          { renderChildren }\n        </SsdMobilenetv1Controls>\n      )\n    } else if (isTinyFaceDetector(this.state.detector)) {\n      return (\n        <TinyFaceDetectorControls\n          inputSizes={[128, 160, 224, 320, 416, 512, 608]}\n          initialDetectionParams={this.props.initialTinyFaceDetectorOptions}\n        >\n          { renderChildren }\n        </TinyFaceDetectorControls>\n      )\n    } else if (isMtcnn(this.state.detector)) {\n      return (\n        <MtcnnControls>\n          { renderChildren }\n        </MtcnnControls>\n      )\n    }\n  }\n}\n","import * as Mui from '@material-ui/core';\r\nimport { FaceDetectionOptions, TinyFaceDetectorOptions } from 'face-api.js';\r\nimport { LoadModels } from 'face-api.js-react';\r\nimport * as React from 'react';\r\n\r\nimport { ReactElement } from '../../face-api.js-react';\r\nimport { ModalLoader } from '../components/ModalLoader';\r\nimport { getFaceDetectionModelUri, MODELS_URI } from '../const';\r\nimport { SelectFaceDetector } from '../facc/SelectFaceDetector';\r\nimport { CenterContent } from '../styled/CenterContent';\r\n\r\n\r\ntype Props = {\r\n  initialFaceDetector: string\r\n  initialTinyFaceDetectorOptions?: TinyFaceDetectorOptions\r\n  children?: (detectionOptions: FaceDetectionOptions, withBoxes: boolean) => ReactElement\r\n  renderCheckboxes?: () => ReactElement\r\n}\r\n\r\ntype FaceDetectionState = {\r\n  withBoxes: boolean\r\n}\r\n\r\nexport class FaceDetection extends React.Component<Props, FaceDetectionState> {\r\n\r\n  state: FaceDetectionState = {\r\n    withBoxes: true\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <SelectFaceDetector\r\n        initialFaceDetector={this.props.initialFaceDetector}\r\n        initialTinyFaceDetectorOptions={this.props.initialTinyFaceDetectorOptions}\r\n      >\r\n      {(detectorName, detectionOptions, renderFaceDetectorSelection, renderFaceDetectorControls) =>\r\n        <LoadModels\r\n          {...getFaceDetectionModelUri(detectorName, MODELS_URI)}\r\n          faceLandmarkModelUrl={MODELS_URI}\r\n          renderBusyComponent={() => <ModalLoader title={`Loading ${detectorName} Model`} />}\r\n        >\r\n        {() =>\r\n          <div>\r\n            <CenterContent>\r\n              { renderFaceDetectorSelection() }\r\n              <CenterContent flexDirection=\"column\" alignItems=\"baseline\">\r\n                {\r\n                  this.props.renderCheckboxes ? this.props.renderCheckboxes() : null\r\n                }\r\n                <Mui.FormControlLabel\r\n                  control={\r\n                    <Mui.Checkbox\r\n                      checked={!this.state.withBoxes}\r\n                      onChange={() => this.setState({ withBoxes: !this.state.withBoxes })}\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                  label=\"Hide Bounding Boxes\"\r\n                />\r\n                </CenterContent>\r\n            </CenterContent>\r\n            { renderFaceDetectorControls() }\r\n            { this.props.children ? this.props.children(detectionOptions, this.state.withBoxes) : null }\r\n          </div>\r\n        }\r\n        </LoadModels>\r\n      }\r\n      </SelectFaceDetector>\r\n    )\r\n  }\r\n}\r\n","import * as faceapi from 'face-api.js';\r\nimport * as React from 'react';\r\n\r\nimport { displayResults } from '../../face-api.js-react';\r\nimport { DisplayResultsOptions } from '../../face-api.js-react/displayResults';\r\nimport { MediaElement } from '../../face-api.js-react/MediaElement';\r\n\r\nexport type TrackFacesProps = {\r\n  input?: MediaElement\r\n  overlay?: HTMLCanvasElement\r\n  displayOptions?: DisplayResultsOptions\r\n  runTask: () => Promise<\r\n    faceapi.FaceDetection[]\r\n    | faceapi.WithFaceLandmarks<faceapi.WithFaceDetection<{}>>[]\r\n    | faceapi.WithFaceExpressions<faceapi.WithFaceDetection<{}>>[]\r\n  >\r\n}\r\n\r\nexport class TrackFaces extends React.Component<TrackFacesProps> {\r\n\r\n  isActive: boolean = false\r\n\r\n  run = async () => {\r\n    if (!this.isActive) {\r\n      return\r\n    }\r\n\r\n    if (!this.props.input) {\r\n      return setTimeout(this.run, 0)\r\n    }\r\n\r\n    const results = await this.props.runTask()\r\n    displayResults(this.props.input, this.props.overlay, results, this.props.displayOptions)\r\n\r\n    setTimeout(this.run, 0)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isActive = true\r\n    this.run()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isActive = false\r\n  }\r\n\r\n  public render(): any {\r\n    return null\r\n  }\r\n}","import * as Mui from '@material-ui/core';\r\nimport { FaceDetectionOptions, TinyFaceDetectorOptions } from 'face-api.js';\r\nimport { MediaElement } from 'face-api.js-react';\r\nimport * as React from 'react';\r\n\r\nimport { ReactElement } from '../../face-api.js-react';\r\nimport { FaceDetection } from './FaceDetection';\r\n\r\nexport type FaceAndLandmarkDetectionProps = {\r\n  input?: MediaElement\r\n  overlay?: HTMLCanvasElement\r\n}\r\n\r\ntype Props = FaceAndLandmarkDetectionProps & {\r\n  initialFaceDetector: string\r\n  initialTinyFaceDetectorOptions?: TinyFaceDetectorOptions\r\n  children?: (detectionOptions: FaceDetectionOptions, withBoxes: boolean, withLandmarks: boolean) => ReactElement\r\n}\r\n\r\ntype FaceAndLandmarkDetectionState = {\r\n  withLandmarks: boolean\r\n}\r\n\r\nexport class FaceAndLandmarkDetection extends React.Component<Props, FaceAndLandmarkDetectionState> {\r\n\r\n  state: FaceAndLandmarkDetectionState = {\r\n    withLandmarks: false\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <FaceDetection\r\n        {...this.props}\r\n        renderCheckboxes={\r\n          () =>\r\n            <Mui.FormControlLabel\r\n              control={\r\n                <Mui.Checkbox\r\n                  checked={this.state.withLandmarks}\r\n                  onChange={() => this.setState({ withLandmarks: !this.state.withLandmarks })}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Detect Face Landmarks\"\r\n            />\r\n        }\r\n      >\r\n        {\r\n          (detectionOptions, withBoxes) =>\r\n            this.props.children(detectionOptions, withBoxes, this.state.withLandmarks)\r\n        }\r\n      </FaceDetection>\r\n    )\r\n  }\r\n}\r\n","import { MediaElement } from 'face-api.js-react';\nimport * as React from 'react';\n\nexport type VideoWithOverlayProps = {\n  onLoaded?: (refs: { video: MediaElement, overlay: HTMLCanvasElement }) => any\n  onVideoRef?: () => any\n  maxVideoWidth?: number\n  src?: string\n  srcObject?: MediaStream | MediaSource | Blob | null\n}\n\nexport class VideoWithOverlay extends React.Component<VideoWithOverlayProps> {\n  video: HTMLVideoElement | undefined\n  overlay: HTMLCanvasElement | undefined\n  isLoaded: boolean = false\n\n  constructor(props: VideoWithOverlayProps) {\n    super(props)\n\n    this.onChange = this.onChange.bind(this)\n    this.onVideoRef = this.onVideoRef.bind(this)\n    this.onCanvasRef = this.onCanvasRef.bind(this)\n    this.onPlay = this.onPlay.bind(this)\n  }\n\n  onChange() {\n    const { video, overlay, isLoaded } = this\n\n    if (video && overlay && isLoaded) {\n      const { width, height } = this.video.getBoundingClientRect()\n      this.overlay.width = width,\n      this.overlay.height = height\n      this.props.onLoaded({ video: new MediaElement(video), overlay })\n    }\n  }\n\n  onVideoRef(el: HTMLVideoElement) {\n    this.video = el\n    this.props.onVideoRef && this.props.onVideoRef()\n    this.onChange()\n  }\n\n  onCanvasRef(el: HTMLCanvasElement) {\n    this.overlay = el\n    this.onChange()\n  }\n\n  onPlay() {\n    this.isLoaded = true\n    this.onChange()\n  }\n\n  componentWillReceiveProps(nextProps: VideoWithOverlayProps) {\n    const { srcObject } = nextProps\n    if (srcObject && this.props.srcObject !== srcObject) {\n      this.video.srcObject = srcObject\n    }\n  }\n\n  shouldComponentUpdate() {\n    return false\n  }\n\n  componentDidUpdate() {\n    this.onChange()\n  }\n\n  componentDidMount() {\n    this.onChange()\n  }\n\n  public render() {\n    return(\n      <div style={{ position: 'relative' }}>\n        <video\n          muted\n          autoPlay\n          style={{ width: '100%', maxWidth: this.props.maxVideoWidth }}\n          ref={this.onVideoRef}\n          onPlay={this.onPlay}\n          src={this.props.src}\n        />\n        <canvas\n          style={{ position: 'absolute', top: 0, left: 0 }}\n          ref={this.onCanvasRef}\n        />\n      </div>\n    )\n  }\n}","import * as faceapi from 'face-api.js';\r\nimport * as React from 'react';\r\n\r\nimport { MediaElement } from '../../face-api.js-react';\r\nimport { FaceDetectionOptions } from 'face-api.js';\r\nimport { TrackFaces } from './TrackFaces';\r\n\r\nexport type TrackFacesWithLandmarksProps = {\r\n  input?: MediaElement\r\n  detectionOptions: FaceDetectionOptions\r\n  withBoxes: boolean\r\n  withLandmarks: boolean\r\n}\r\n\r\nexport class TrackFacesWithLandmarks extends React.Component<TrackFacesWithLandmarksProps> {\r\n  public render(): any {\r\n    const runTask = async () => {\r\n      let task = faceapi.detectAllFaces(this.props.input.element, this.props.detectionOptions)\r\n      if (this.props.withLandmarks) {\r\n        return task.withFaceLandmarks()\r\n      }\r\n      return task\r\n    }\r\n    const { withBoxes } = this.props\r\n\r\n    return (\r\n      <TrackFaces\r\n        {...this.props}\r\n        displayOptions={{ withBoxes }}\r\n        runTask={runTask}\r\n      />\r\n    )\r\n  }\r\n}","import { MediaElement } from 'face-api.js-react';\nimport * as React from 'react';\n\nimport { VideoWithOverlay } from './VideoWithOverlay';\n\nexport type WebcamVideoWithOverlayProps = {\n  onLoaded: (refs: { video: MediaElement, overlay: HTMLCanvasElement }) => any\n  maxVideoWidth?: number\n}\n\ntype WebcamVideoWithOverlayState = {\n  srcObject?: MediaStream | MediaSource | Blob | null\n  error?: string\n}\n\nexport class WebcamVideoWithOverlay extends React.Component<WebcamVideoWithOverlayProps, WebcamVideoWithOverlayState> {\n  state: WebcamVideoWithOverlayState = {\n  }\n\n  onVideoRef = async () => {\n    try {\n      const srcObject = await navigator.mediaDevices.getUserMedia({ video: {} })\n      this.setState({ srcObject })\n    } catch (err) {\n      this.setState({ error: err.toString() })\n    }\n  }\n\n  public render() {\n    if (this.state.error) {\n      return (\n        <div style={{ background: 'red', color: 'white' }}>\n          <h3> Error occured while requesting webcam access: </h3>\n          <p> { this.state.error } </p>\n        </div>\n      )\n    }\n\n    return(\n      <VideoWithOverlay\n        srcObject={this.state.srcObject}\n        onLoaded={this.props.onLoaded}\n        maxVideoWidth={this.props.maxVideoWidth}\n        onVideoRef={this.onVideoRef}\n      />\n    )\n  }\n}"],"sourceRoot":""}